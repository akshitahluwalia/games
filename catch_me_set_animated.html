<!DOCTYPE html>
<html>
<head>
	<title>Catch Me if you can</title>
	<style type="text/css">
		* {
			padding: 0;
			margin: 0;
			box-sizing: border-box;
		}
		body {
			height: 100vh;
			width: 100vw;
		}
		#box-element {
			width: 50px;
			height: 50px;
			background-color: red;
			position: fixed;
			border-radius: 50%;
		}
	</style>
	
</head>
<body>
	<div id="box-element"></div>
</body>
	<script type="text/javascript">
		element = document.getElementById('box-element');
		// console.log(element);
		element.style.top = "40px";
		element.style.left = "100px";
		var fractions = 200.0;
		windowWidth = document.body.clientWidth;
		console.log(windowWidth)
		windowHeight = document.body.clientHeight
		console.log(windowHeight)
		// console.log(event);
		var interval;
		function runAway(event){
			
			currX = parseInt(element.style.left.slice(0,-2));
			// console.log(currX);
			currY = parseInt(element.style.top.slice(0,-2));
			// console.log(currY);
			newX = Math.random() * (windowWidth - element.clientWidth);
			console.log(newX)
			newY = Math.random() * (windowHeight - element.clientHeight);
			console.log(newY)
			delX = (newX - currX)/fractions;
			// console.log(delX)
			delY = (newY - currY)/fractions;
			// console.log(delY)
			if(interval != null){
					clearInterval(interval);
			}
			interval = setInterval(function(){
				if (currX != newX){
					if(currY != newY) {
						currY = currY + delY;
					}
					currX = currX + delX;
				}
				element.style.left = currX + 'px';
				element.style.top = currY + 'px'
				if (parseInt(currX) == parseInt(newX) && parseInt(currY) == parseInt(newY)) {
					clearInterval(interval);
				}
				console.log("currX" + currX)
				console.log("currY" + currY)

			},0.5);
		};
		element.addEventListener('mouseover',runAway);
	</script>
</html>